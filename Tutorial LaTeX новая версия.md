# Tutorial LaTeX
## _Или как я писал мой первый проект LaTeX_

![Мем с Винни-Пухом](https://repository-images.githubusercontent.com/271231499/87310b00-ab90-11ea-9cee-f7b01946e86b)

## Предисловие

В рамках прохождения летней практики в НИУ ВШЭ нам дали несколько вариантов курсов на выбор. Моё внимание сразу же привлёк курс по введению в [LaTeX][df1]. В этой микростатье я расскажу кратко о том, как пользоваться этой _cистемой компьютерной вёрстки_, а также почему нужно выбирать именно её для работы с проектами.

## Где писать?

Для работы с LaTeX есть 2 редактора &mdash; офлайн и онлайн &mdash; [Texmaker][df2] и [Overleaf][df3]. И выбирая между ними, я остановился на **втором** варианте, так как он самый быстрый, ведь достаточно зайти на сайт и **ничего дополнительного не устанавливать**. Также на сайте **есть документация** по работе с LaTeX. В конце можно сохранить итоговый документ в формате pdf или поделиться ссылкой на проект.

## Почему LaTeX ?

LaTeX удобен, в нём есть много от других редакторов, но также и свои универсальные особенности:

- LaTeX позволяет работь с различными языками
- Автоматически генерируемая библиография / список литературы
- Возможность создавать математические формулы / выражения
- Списки, таблицы, рисунки с подписями и автоматической нумерацией
- Различные стили для документов, включая презентации
- Настройка цвета таблиц и шрифта текста и т. д.

Поэтому LaTeX часто используют для написания различных статей, научной литературы. А математические символы &mdash; это визитная карточка этой компьютерной вёрстки.

## Основной синтаксис

Далее я приведу выражения для LaTeX и расскажу о моём опыте и интересных ситуациях при работе.

#### Начало работы

Первая строка объявляет тип документа. Их очень много, выбор влияет на стиль, а также на возможность использовать различные инструменты. Самые популярные &mdash; **report**, **article**, **book**. Далее в разделе **преамбула** (после объявление типа) можно подключить русские / латинские символы, настроить шрифт, а также подключить различные **библиотеки**. Вообще преамбула очень сильно напоминает программирование на C++ , где в начале также подключают библиотеки. В LaTeX они отвечают за палитры цветов, ссылки, и т. д. Комментарии в коде начинаются строкой с #.
Содержание докумета заключают в теги `\begin{document}` , `\end{document}`.

Пример:
```
\documentclass[14pt,a4paper]{report}
\usepackage[T2A]{fontenc} % Русские буквы
\usepackage[utf8]{inputenc} % Кодировка utf8

\begin{document}
Здесь текст документа.
\end{document}
```

#### Титульный лист

Далее перед содержанием документа идут заголовок, инициалы автора и т. д.
```
\title{Название документа}
\author{Автор\thanks{Благоданость кому-то}}
\date{Июль 2022}
```

В самом содержании документа пишем `\maketitle` для создания титульной страницы.

#### Стандартное форматирование

LaTeX позволяет форматировать текст, картинки и т. д. Один из способов &mdash; особо выделенный текст:

- Жирный шрифт &mdash; `\textbf{...}`
- Курсив &mdash; `\textit{...}`
- Подчеркнутый текст &mdash; `\underline{...}`

Также можно выравнивать:

- `\begin{flushleft}` `\end{flushleft}` &mdash; выравнивание влево
- `\begin{center}` `\end{center}` &mdash; выравнивание по центру
- `\begin{flushright}` `\end{flushright}` &mdash; выравнивание вправо

Отдельные специальные символы:

`\\`, `\newline` &mdash; новая строка; `\\*` &mdash; новая строка без абзаца; `\noindent` &mdash; делает так, чтобы отступа в начале не было; `\newpage` &mdash; новая страница;

#### Картинки

При добавлении изображений их надо сначала загрузить. Например, в отдельную папку в проекте Overleaf. А также подключить нужную библиотеку `\usepackage{graphicx}`. Картинка вводится в содержание документа командой `\includegraphics{...}`, где пишут путь до изображения. Также можно настроить расположение изображения &mdash; по центру, слева, справа, сделать так, чтобы не вылезало за границы листа и т. д. Размер изображения устанавливается в квадратных скобках `\usepackage{graphicx}[width=\linewidth]{Фото/Картинка.png}` [Подробнее про картинки здесь.][df4]

#### Подписи, сноски и ссылки и немного про расположение

Картинки и таблицы можно подписывать. B тексте делать ссылки на тот или иной рисунок / таблицу.
```
\begin{figure}
    \includegraphics[width=\linewidth]{Фото/Картинка.png}
    \caption{Подпись рисунка}
    \label{fig:mylabel}
\end{figure}
```
В примере использовалось `\begin{figure}` и `\end{figure}` для работы с рисунками. `\label{fig:mylabel}` указывает кодовое имя, на которое можно ссылаться в тексте:
```
Смотрите рисунок \ref{fig:mylabel}.
```
Также можно менять расположение картинок в документе, поставив квадратные скобки с определёнными буквами после `\begin{figure}`:
```
\begin{figure}[t]
    \includegraphics[width=\linewidth]{Фото/Картинка.png}
    \caption{Подпись рисунка}
    \label{fig:mylabel}
\end{figure}
```
`[t]` &mdash; указывает то, что картинку надо разместить вверху (top). [Подробнее здесь в разделе Positioning.][df4]

Используя LaTeX, часто приходится использовать сноски `\footnote{текст сноски}`. Нумерация производится автоматически.

#### Таблицы
Таблицы в LaTeX тоже очень интересные. Их создавать достаточно просто. Разберёмся на примере:
```
\begin{tabular}{||c c c c||} 
 \hline
 Col1 & Col2 & Col2 & Col3 \\ [0.5ex] 
 \hline\hline
 1 & 6 & 87837 & 787 \\ 
 \hline
 2 & 7 & 78 & 5415 \\
 \hline
 3 & 545 & 778 & 7507 \\
 \hline
 4 & 545 & 18744 & 7560 \\
 \hline
 5 & 88 & 788 & 6344 \\ [1ex] 
 \hline
\end{tabular}
```
Как и с изображением добавляем теги, но теперь `\begin{tabular}`. Далее описываем столбцы вертикальные линии `|` обозначают границы между столбцами и рамки, `\hline` &mdash; горизонтальные линии, `&` &mdash; граница между ячейками, `\\` &mdash; конец ряда. Дизайн с таблицами огромен, можно делать объединённые столбцы, двойные границы, выравнивать текст в ячейках по центру, красить в различные цвета и т. д. [Дополнительная документация о таблицах здесь.][df5]

#### Списки

В LaTeX есть списки: нумерованный, маркированный, многоуровневый.

Нумерованный список:
```
\begin{enumerate}
	\item Элемент 1. 
	\item Элемент 2. 
	\item Элемент 3. 
	\item Элемент 4. 
\end{enumerate}
```
Маркированный список:
```
\begin{itemize}
	\item Элемент 1. 
	\item Элемент 2. 
	\item Элемент 3. 
	\item Элемент 4. 
\end{itemize}
```
Многоуровневый список:
```
\begin{enumerate}
	\item Элемент 1.
	\begin{enumerate}
		\item Подэлемент 1. 
		\item Подэлемент 2.
	\end{enumerate}
	\item Элемент 2.
	\begin{enumerate}
	    \item Подэлемент 1.
	    \item Подэлемент 2.
	\end{enumerate}
\end{enumerate}
```

#### Содержание и разделы

Для красоты и читаемости текст можно делить на главы, разделы, подразделы и т. д. Также, чтобы читатель мог понять расположение той или иной части, можно ввести содержание командой `\tableofcontents`. При написании команды начала конкретного раздела, он будет включатся в содержание, ни каких действий со стороны не требуется. Нумерация и страницы будут указываться автоматически. Для перевода разделов (глава, содержание) и других сгенерированных надписей (рисунок, таблица) на русский язык можно использовать `\usepackage[english, russian]{babel}` в **преамбуле**. Пример оформления и форматирования разделов:
```
\tableofcontents

\chapter{Первая часть}

\section{Вступление}

Всем привет!

\section{Часть}

Это первая часть.

\subsection{Подчасть}

Это подчасть.
```
Также стоит отметить, что для вида документа **article нет раздела chapter**.
Теги `\begin{abstract}`, `\end{abstract}` создают аннотацию, где можно написать основные особенности вашего проекта.

#### Библиография

При написании научных статей, часто используется огромное количество литературы и цитирования. Поэтому оформление библиографии в LaTeX достаточно удобно. Для этого есть даже особая утилита [BibTeX][df7]. По сути спомощью неё оформляется сам список из различных научных произведений. Обычно это просто файл с расширением bib:
```
@article{olver2016nist,
  title={NIST Digital Library of Mathematical Functions http://dlmf. nist. gov},
  author={Olver, FWJ and Daalhuis, AB Olde and Lozier, DW and Schneider, BI and Boisvert, RF and Clark, CW and Miller, BR and Saunders, BV},
  journal={Release},
  volume={1},
  pages={22},
  year={2016}
}

@misc{dictionary1890efrona,
  title={Ефрона: в 86 т.(82 т. и 4 доп.)},
  author={словарь Брокгауза, Энциклопедический},
  year={1890},
  publisher={СПб}
}
```
Т. е. файл где в кодовом виде написаны ник произведения (его можно менять), по которому вы будете ссылаться в документе, тип произведения, автор, год, издательство, страницы и т. д. Несомненно, возникает вопрос, должно быть это затратно по времени писать в таком виде? Но для этого есть **лайфхак**. Чтобы облегчить задачу достаточно:
1. зайти на [Гугл Академию][df8]
2. вбить в поиск название книги
3. под нужным произведением нажать на надпись `Цитировать`
4. в кладке нажать на `BibTeX` и скопировать текст кода
5. далее просто остаётся создать файл с расширением bib и вставить туда код

Далее достаточно написать в конце вашего документа:
```
\bibliographystyle{plain}
\bibliography{bib1.bib}
```
Plain &mdash; стиль, в котором вы хотите создать библиографию. bib1.bib &mdash; имя файла bib.
Ссылаться на цитирование &mdash; `\cite{ник цитируемого источника}`. Ник &mdash; это слово, которое идёт после открывающей фигурной кавычки в файле bib. Иногда со списком литературы возникают проблемы, о которых вы узнаете в **конце статьи**.

#### Математические формулы

И конечно же, то ради чего мы все здесь собрались &mdash; математическая составляющая. Разнообразие символов огромное, у одного и того же математического знака или буквы существует различные вариации. Математике посвящено много внимания в LaTeX. Существуют различные библиотеки / пакеты для оформления доказательств и многое другое. Чтобы начать запись алгебраического выражения достотаточно написать его, используя _специальные кодовые символы_ между `$...$`, или, используя теги `\begin{math}`, `\end{math}`, если вы хотите _выключенные формулы_ (т. е. в отдельную строку), тогда используйте `$$...$$`.
Я приведу основные символы:
| _Код_ | _Значение_ |
| ------ | ------ |
| + | Сложение |
| - | Вычитание |
| / | Обычное деление |
| \cdot | Умножение (точка) |
| ^ | Поставить индекс вверх |
| _ | Поставить индекс вниз |
| \frac{a}{b} | Дробная черта (a делить на b) |
| \pi | Буква пи |
| \sqrt{} | Квадратный корень |
| \in | Включение |
| < | Меньше |
| > | Больше |
| \leqslant | Меньше или равно (красивый символ) |
| \geqslant | Больше или равно (красивый символ) |
| = | Равно |
| \neq | Не равно |
| \int\limits_0^a (a)\,dx | Полное описание интеграла |
| \lim\limits_{x\to 0} x | Предел |
| \sum_{a=1}^n | Сумма от 1 до n |

Основная математическая библиотека &mdash; `\usepackage{mathtools}`. Также есть и дополнительные пакеты. [Другие символы здесь.][df6]

## Презентации

Бывает, что LaTeX используют для создания презентаций. И возможности таких презентаций во многих местах не уступают даже всеми любимому PowerPoint. И оформление таких документов практически не отличается от обычных текстовых, так как везде можно пользоваться таблицами, списками, рисунками, библиографией и т. д, даже титульная страница задаётся одинаково. LaTeX позволяет создавать интерактивные презентации. И для удобства в Overleaf существует много различных стилей-заготовок, которые можно использовать в своём проекте.

#### Базовые команды

Начинается с объявления типа документа &mdash; `\documentclass{beamer}`. Далее идёт преамбула. При использование конкретного стиля многие библиотеки уже подключены. Титульный слайд задаётся также, как и в обычном текстовом документе.  
Чтобы начать писать слайд, нужны теги `\begin{frame}` и `\end{frame}`. Заголовок слайда оформляется следующей командой `\frametitle{Название слайда}`. Пример:
```
\documentclass{beamer}
% Здесь преамбула
\title{Название}
\author{Автор}

\begin{document}% Начало презентации
\begin{frame}
    \titlepage
\end{frame}

\begin{frame}
    \frametitle{Название слайда}
    Здесь текст слайда
\end{frame}
\end{document}% Конец презентации
```

#### Наводим красоту и оформляем

При желании можно использовать конкретную тему, цвет темы и многое другое. Всё это задаётся перед началом документа.
```
\useoutertheme{infolines}# Задаёт верхний колонтитул
\usetheme{Madrid}# Основная тема
\usecolortheme[named=mycolour]{structure}# Цвет темы, в данном примере использовать ваш цвет
```

Содержание оформляется также, как и в обычном документе. Просто пишем названия уровня раздела и он добавляется в содержание (раздел пишется вне слайда). Остаётся на отдельном слайде написать `\tableofcontents`.

#### Интерактивные элементы

Можно добавить интерактивные элеметы: постепенно появляющиеся списки, гиперссылки, кнопки.
Появляющиеся списки:
```
\section{Свойства шара}
\begin{frame}
    \frametitle<presentation>{Свойства шара}
    \begin{itemize}
        \item<1-> Любое сечение шара плоскостью есть круг.
        \item<3-> Через любые две точки, кроме \textit{диаметрально противоположных точек}, можно провести только один большой круг для шара.
        \item<5-> Если расстояние между центрами любых двух шаров меньше суммы их радиусов и больше модуля разности их радиусов, то такие шары \textbf{пересекаются}, а в плоскости пересечения образуется круг.
        \item<4-> Любые два больших круга одного шара пересекаются по прямой, проходящей через центр шара, а окружности пересекаются в двух \textit{диаметрально противоположных точках}.
        \item<2-> Через любые две \textit{диаметрально противоположные точки} можно провести множество больших кругов для шара.
    \end{itemize}
\end{frame}
```
`<1->` задаёт номер, когда элемент списка должен появится. Как видно из примера, порядок можно назначать, какой вам понравится.

Гиперссылки хранятся в особой библиотеке &mdash; `\usepackage{hyperref}`. И оформляются так:  
`\href{https://bipbap.ru/jivotnie/samye-krasivye-i-milye-kotyata-100-foto.html}{Жми сюда и ты увидишь самых милых котиков}`

Кнопка обычно является просто рамкой для гиперссылки и к гиперссылке просто добавляется команда:  
`\href{https://memepedia.ru/tag/koty/}{\beamerbutton{Это кнопка для фанатов кошек}}`

#### Библиография и презентации

Библигорафия в презентациях LaTeX тоже оформляется с помощью BibTeX. И бывает так, что когда оформляешь список литературы, вместо цифр появляются миникартинки. Чтобы их убрать, достаточно в **преамбуле** написать `\setbeamertemplate{bibliography item}{\insertbiblabel}`. Всё остальное берётся из текстовых документов. Вот так выглядит слайд с библиографией:
```
\begin{frame}
        \frametitle<presentation>{Литература}
        \bibliographystyle{plain}
        \bibliography{bib_presentation.bib}
\end{frame}
```

## Заключение

Как вы поняли, разнообразие LaTeX гигантское. И справочник по всему будет достаточно большим. Но я постарался охватить большую часть команд и описать его преимущества. Совершенствуясь, всегда страйтесь прочитать документацию, если у вас что-нибудь не получается. Но даже в документация от Overleaf не всегда есть, то что нужно. Когда мало опыта, бывает, что картинка встаёт не в то место или возникает вопрос с компиляцией. И когда вы реально не можете понять где ошибка, лучше вбить в поиск и зайти на форум.  
Вот например, у меня был момент, когда в библиографии вместо цифр возникали ? и я не понимал, что вообще происходит. Документации не помогали, т. к. они часто на английском языке и бывает сложно заметить отдельный коментарий в огромном монологе, который решит вопрос. И только спустя час я понял, что стандартно, при использования стиля списка литературы, в котором я писал, LaTeX не воспринимает ники источников литературы написанные на русской раскладке, и достаточно просто заменить на латинскую, чтобы всё заработало.  
И таких моментов может возникнуть много. Все они отнимают время и терпение. Поэтому лучше совершенствоваться как можно раньше, чтобы изучить LaTeX до автомата, и не тратить много времени на написание диплома или какой-нибудь важной работы только из-за того, что вам сложно писать в LaTeX.  

> _Желаю всем успехов в постижении волшебства LaTeX !_  

_**Дмитрий Никитин Д.**_

[//]: # (Ссылки)

   [df1]: <https://ru.wikipedia.org/wiki/LaTeX>
   [df2]: <https://www.xm1math.net/texmaker/>
   [df3]: <https://www.overleaf.com/>
   [df4]: <https://ru.overleaf.com/learn/latex/Inserting_Images>
   [df5]: <https://ru.overleaf.com/learn/latex/Tables>
   [df6]: <https://www.andreyolegovich.ru/latex/symbols/>
   [df7]: <https://ru.wikipedia.org/wiki/BibTeX>
   [df8]: <https://scholar.google.ru/>
